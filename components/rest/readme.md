# getflat.rest

Pub/sub-модуль отправки запросов на бэкенд. Обёртка над `$http`. Зависит от `$rootScope`.

### Подключение

Входит в базовый набор модулей приложения. Для отдельного использования подключить в зависимости главного модуля `getflat.rest`.

### Как отправить запрос

`$rootScope.$emit('rest.request', settings);`, где `settings` это объект с ключами:

* `id` - идентификатор запроса. Например название модуля, отправляющего запрос. По умолчанию `app`;
* `method` - HTTP-метод;
* `uri` - URI REST-метода. Без `/rest/`. Пример: `users/871005350016`;
* `params` - параметры запроса;
* `headers` - заголовки запроса;

### Как получить ответ

Подписаться на ответ: `$rootScope.$on( "rest.response:id:type", function(event, response) { });`, где:

* `id` - идентификатор запроса;
* `type` - тип ответа: `success` или `error`;

Объект `response` содержит набор свойств как в коллбеке модуля `$http`: data, status, headers, config.

### Roadmap

* Функция заглушек для рестов для прототипирования;
